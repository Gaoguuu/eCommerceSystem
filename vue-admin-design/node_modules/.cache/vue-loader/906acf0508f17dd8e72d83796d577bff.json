{"remainingRequest":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&lang=less","dependencies":[{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\src\\views\\Login.vue","mtime":1728976157732},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\css-loader\\dist\\cjs.js","mtime":1728977242423},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1728977244848},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\postcss-loader\\src\\index.js","mtime":1728977243244},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\less-loader\\dist\\cjs.js","mtime":1728977242915},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1728977244061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubG9naW4td3JhcHBlciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxMDB2aDsNCiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgLmZvcm0tYm94IHsNCiAgICB3aWR0aDogMzIwcHg7DQogICAgcGFkZGluZzogMTZweCAzMHB4Ow0KICAgIGJhY2tncm91bmQ6ICNmZmY7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIGJveC1zaGFkb3c6IDAgMTVweCAzMHB4IDAgcmdiYSgwLCAwLCAxLCAuMSk7DQogICAgLmZvcm0tdGl0bGUgew0KICAgICAgbWFyZ2luOiAwIGF1dG8gMzVweDsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIGNvbG9yOiAjNzA3MDcwOw0KICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDJweDsNCg0KICAgICAgaW1nIHsNCiAgICAgICAgd2lkdGg6IDIwMHB4Ow0KICAgICAgICBoZWlnaHQ6IDgycHg7DQogICAgICAgIG1hcmdpbjogMTRweCBhdXRvIDA7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"login-wrapper\" :style=\"'background-image:url('+ Background +')'\">\r\n    <div class=\"form-box\">\r\n      <div class=\"form-title\">\r\n        <img src=\"../assets/img/logo_name.png\" alt=\"icon\">\r\n        <p>账 号 登 录</p>\r\n      </div>\r\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"0px\" class=\"login-form\">\r\n        <el-form-item prop=\"username\">\r\n          <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" @keyup.enter.native=\"handleLogin\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-checkbox v-model=\"loginForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button :loading=\"loading\" size=\"small\" type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\">\r\n            <span v-if=\"!loading\">登 录</span>\r\n            <span v-else>登 录 中...</span>\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login } from '@/api/login'\r\nimport { setToken } from '@/utils/cookie'\r\nimport Background from '../assets/img/login-background.jpg'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      Background,\r\n      loginForm: {\r\n        username: 'admin',\r\n        password: 'admin123',\r\n        rememberMe: true\r\n      },\r\n      loginRules: {\r\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\r\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\r\n      },\r\n      loading: false,\r\n      redirect: undefined\r\n    }\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function(route) {\r\n        this.redirect = route.query && route.query.redirect\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      this.$refs.loginForm.validate(valid => {\r\n        const data = {\r\n          username: this.loginForm.username,\r\n          password: this.loginForm.password\r\n        }\r\n        if (valid) {\r\n          this.loading = true\r\n          login(data).then(res => {\r\n            this.loading = false\r\n            setToken(res.token)\r\n            this.$router.push({ path: this.redirect || '/' })\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.login-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-size: cover;\r\n  .form-box {\r\n    width: 320px;\r\n    padding: 16px 30px;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 1, .1);\r\n    .form-title {\r\n      margin: 0 auto 35px;\r\n      text-align: center;\r\n      color: #707070;\r\n      font-size: 18px;\r\n      letter-spacing: 2px;\r\n\r\n      img {\r\n        width: 200px;\r\n        height: 82px;\r\n        margin: 14px auto 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}