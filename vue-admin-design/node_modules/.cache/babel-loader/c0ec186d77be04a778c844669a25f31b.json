{"remainingRequest":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\src\\components\\TextSetting\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\src\\components\\TextSetting\\index.vue","mtime":1728976157717},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\babel.config.js","mtime":1728976157680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1728977243261},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1728977244061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9wcm9qZWN0V29yay90aGlyZEdyYWRlL2Vjb25taWMvbXJwU3lzdGVtL3Z1ZS1hZG1pbi1kZXNpZ24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuc2l6ZS5qcyIpOwp2YXIgX3V0aWxzID0gcmVxdWlyZSgiQC91dGlscyIpOwp2YXIgX0ltYWdlUmljaFRleHQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL0ltYWdlUmljaFRleHQiKSk7CmNvbnN0IGZvbnRGYW1pbHlEYXRhID0gW3sKICB2YWx1ZTogJ+m7keS9kycKfSwgewogIHZhbHVlOiAn5a6L5L2TJwp9LCB7CiAgdmFsdWU6ICfku7/lrosnCn0sIHsKICB2YWx1ZTogJ+alt+S9kycKfSwgewogIHZhbHVlOiAn6Zq25LmmJwp9LCB7CiAgdmFsdWU6ICflvq7ova/pm4Xpu5EnCn0sIHsKICB2YWx1ZTogJ+aWueato+WnmuS9kycKfV07CmNvbnN0IGZvbnRTaXplRGF0YSA9IFt7CiAgdmFsdWU6ICcxMnB4Jwp9LCB7CiAgdmFsdWU6ICcxNHB4Jwp9LCB7CiAgdmFsdWU6ICcxNnB4Jwp9LCB7CiAgdmFsdWU6ICcxOHB4Jwp9LCB7CiAgdmFsdWU6ICcyNHB4Jwp9LCB7CiAgdmFsdWU6ICczMnB4Jwp9LCB7CiAgdmFsdWU6ICc0OHB4Jwp9XTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICdUZXh0U2V0dGluZycsCiAgY29tcG9uZW50czogewogICAgSW1hZ2VSaWNoVGV4dDogX0ltYWdlUmljaFRleHQuZGVmYXVsdAogIH0sCiAgcHJvcHM6IHsKICAgIGFjdGl2ZUVsZVRleHQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvbnRGYW1pbHlEYXRhLAogICAgICBmb250U2l6ZURhdGEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5a2X5L2T5piv5ZCm5Yqg57KXCiAgICBmb250V2VpZ2h0KCkgewogICAgICBpZiAoK3RoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS5mb250V2VpZ2h0ID09PSA0MDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDmloflrZflpKflsI/lj5jljJbml7booYzpq5jkuIDotbflj5jljJYKICAgIGFjdGl2ZUVsZVRleHQ6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLmFjdGl2ZUVsZVRleHQuc3R5bGUubGluZUhlaWdodCA9IHZhbC5zdHlsZS5mb250U2l6ZTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6K6+572u57KX5L2TCiAgICBzZXRGb250V2VpZ2h0KCkgewogICAgICBpZiAoK3RoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS5mb250V2VpZ2h0ID09PSA0MDApIHsKICAgICAgICB0aGlzLmFjdGl2ZUVsZVRleHQuc3R5bGUuZm9udFdlaWdodCA9IDYwMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZUVsZVRleHQuc3R5bGUuZm9udFdlaWdodCA9IDQwMDsKICAgICAgfQogICAgfSwKICAgIC8vIOiuvue9ruWvuem9kAogICAgaGFuZGxlQ29tbWFuZChjb21tYW5kKSB7CiAgICAgIHRoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS50ZXh0QWxpZ24gPSBjb21tYW5kOwogICAgfSwKICAgIC8vIOW9k+WJjeWvuem9kOaWueW8jwogICAgc2V0QWxpZ25BY3RpdmUodHlwZSkgewogICAgICBpZiAodGhpcy5hY3RpdmVFbGVUZXh0LnN0eWxlLnRleHRBbGlnbiA9PT0gdHlwZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDA5ZWZmJywKICAgICAgICAgIGNvbG9yOiAnI2ZmZicKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcnLAogICAgICAgICAgY29sb3I6ICcjMzMzJwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICAvLyDmlofmnKznlJ/miJDlm77niYcKICAgIHRleHRCZWNvbWVJbWcob2JqKSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjYW52YXMud2lkdGggPSBvYmoudzsKICAgICAgY2FudmFzLmhlaWdodCA9IG9iai5oOwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIC8vIOe7mOWItuWtl+S9k+i3neemu2NhbnZhc+mhtumDqOWIneWni+eahOmrmOW6pgogICAgICBjb25zdCBpbml0VG9wID0gNDsKICAgICAgY29uc3QgaW5pdExlZnQgPSA4OwogICAgICAvLyDorr7nva7og4zmma/oibIKICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBvYmouc3R5bGUuYmFja2dyb3VuZENvbG9yIHx8ICd0cmFuc3BhcmVudCc7CiAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgLy8g6K6+572u5paH5pys5qC35byPCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gb2JqLnN0eWxlLmNvbG9yOwogICAgICBjb250ZXh0LmZvbnQgPSBvYmouc3R5bGUuZm9udFdlaWdodCArICcgJyArIG9iai5zdHlsZS5mb250U2l6ZSArICcgJyArIG9iai5zdHlsZS5mb250RmFtaWx5OwogICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICd0b3AnOwogICAgICAvLyDorr7nva7mlofmnKzlr7npvZDmlrnlvI8KICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSBvYmouc3R5bGUudGV4dEFsaWduOwogICAgICBjb25zdCB0ZXh0QXJyID0gb2JqLnRleHQuc3BsaXQoJycpOwogICAgICBsZXQgdGVtcFN0ciA9ICcnOwogICAgICBjb25zdCByb3dBcnIgPSBbXTsKICAgICAgY29uc3QgbWF4VGV4dFdpZHRoID0gY2FudmFzLndpZHRoIC0gMiAqIGluaXRMZWZ0OwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRBcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoY29udGV4dC5tZWFzdXJlVGV4dCh0ZW1wU3RyKS53aWR0aCA8IG1heFRleHRXaWR0aCAmJiBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlbXBTdHIgKyB0ZXh0QXJyW2ldKS53aWR0aCA8PSBtYXhUZXh0V2lkdGgpIHsKICAgICAgICAgIHRlbXBTdHIgKz0gdGV4dEFycltpXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93QXJyLnB1c2godGVtcFN0cik7CiAgICAgICAgICB0ZW1wU3RyID0gdGV4dEFycltpXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcm93QXJyLnB1c2godGVtcFN0cik7CiAgICAgIGxldCBkcmF3TGVmdDsKICAgICAgaWYgKGNvbnRleHQudGV4dEFsaWduID09PSAnbGVmdCcpIHsKICAgICAgICBkcmF3TGVmdCA9IGluaXRMZWZ0OwogICAgICB9IGVsc2UgaWYgKGNvbnRleHQudGV4dEFsaWduID09PSAnY2VudGVyJykgewogICAgICAgIGRyYXdMZWZ0ID0gbWF4VGV4dFdpZHRoIC8gMjsKICAgICAgfSBlbHNlIGlmIChjb250ZXh0LnRleHRBbGlnbiA9PT0gJ3JpZ2h0JykgewogICAgICAgIGRyYXdMZWZ0ID0gbWF4VGV4dFdpZHRoOwogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93QXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29udGV4dC5maWxsVGV4dChyb3dBcnJbaV0sIGRyYXdMZWZ0LCBwYXJzZUludChvYmouc3R5bGUuZm9udFNpemUpICogaSArIGluaXRUb3AsIG1heFRleHRXaWR0aCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpOwogICAgfSwKICAgIC8vIOS4i+i9veeUn+aIkOeahOWbvueJhwogICAgZG93bmxvYWRJbWFnZSgpIHsKICAgICAgY29uc3QgaW1hZ2VCYXNlNjQgPSB0aGlzLnRleHRCZWNvbWVJbWcodGhpcy5hY3RpdmVFbGVUZXh0KTsKICAgICAgY29uc3QgaW1hZ2VCbG9iID0gKDAsIF91dGlscy5iYXNlNjR0b0Jsb2IpKGltYWdlQmFzZTY0KTsKICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpOwogICAgICAvLyBpbml0RXZlbnQg5LiN5Yqg5ZCO5Lik5Liq5Y+C5pWw5Lya5Zyo54Gr54uQ5LiL5oql6ZSZIOS6i+S7tuexu+Wei++8jOaYr+WQpuWGkuazoe+8jOaYr+WQpumYu+atoua1j+iniOWZqOeahOm7mOiupOihjOS4ugogICAgICBldmVudC5pbml0RXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSk7CiAgICAgIGxpbmsuZG93bmxvYWQgPSAnaW1hZ2UucG5nJzsKICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZUJsb2IpOwogICAgICAvLyDlhbzlrrnngavni5AKICAgICAgbGluay5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHsKICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgIGNhbmNlbGFibGU6IHRydWUsCiAgICAgICAgdmlldzogd2luZG93CiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_utils","require","_ImageRichText","_interopRequireDefault","fontFamilyData","value","fontSizeData","_default","exports","default","name","components","ImageRichText","props","activeEleText","type","Object","data","computed","fontWeight","style","watch","handler","val","lineHeight","fontSize","deep","methods","setFontWeight","handleCommand","command","textAlign","setAlignActive","backgroundColor","color","textBecomeImg","obj","canvas","document","createElement","width","w","height","h","context","getContext","initTop","initLeft","fillStyle","fillRect","font","fontFamily","textBaseline","textArr","text","split","tempStr","rowArr","maxTextWidth","i","length","measureText","push","drawLeft","fillText","parseInt","toDataURL","downloadImage","imageBase64","imageBlob","base64toBlob","link","event","createEvent","initEvent","download","href","URL","createObjectURL","dispatchEvent","MouseEvent","bubbles","cancelable","view","window"],"sources":["src/components/TextSetting/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"text-setting-wrapper\">\r\n    <el-form label-width=\"70px\">\r\n      <!--文本-->\r\n      <el-form-item label=\"文本\">\r\n        <ImageRichText v-model=\"activeEleText.text\" class=\"text-editable\" :active-ele-text=\"activeEleText\" />\r\n      </el-form-item>\r\n      <!--字体-->\r\n      <el-form-item label=\"字体\">\r\n        <el-select v-model=\"activeEleText.style.fontFamily\" size=\"small\">\r\n          <el-option\r\n            v-for=\"item in fontFamilyData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n            :style=\"{'fontFamily': item.value}\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!--字号-->\r\n      <el-form-item label=\"字号\">\r\n        <el-select\r\n          v-model=\"activeEleText.style.fontSize\"\r\n          size=\"small\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in fontSizeData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!--颜色-->\r\n      <el-form-item label=\"颜色\">\r\n        <!-- 字体颜色 -->\r\n        <div class=\"color-box\">\r\n          <i class=\"vue-dsn-icon-wenzise color-icon\" :style=\"{'color': activeEleText.style.color}\" />\r\n          <el-color-picker v-model=\"activeEleText.style.color\" />\r\n        </div>\r\n        <!-- 背景颜色 -->\r\n        <div class=\"color-box\">\r\n          <i class=\"vue-dsn-icon-beijingse color-icon icon-bg\" :style=\"{'color': activeEleText.style.backgroundColor}\" />\r\n          <el-color-picker v-model=\"activeEleText.style.backgroundColor\" />\r\n        </div>\r\n        <div class=\"style-box\">\r\n          <!-- 加粗 -->\r\n          <span :class=\"['style-item', fontWeight ? 'active' : '']\" @click=\"setFontWeight\">\r\n            <i class=\"vue-dsn-icon-jiacu style-icon\" />\r\n          </span>\r\n          <!-- 对齐 -->\r\n          <div class=\"style-item\">\r\n            <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n              <i class=\"vue-dsn-icon-duiqi style-icon\" />\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"left\" :style=\"setAlignActive('left')\">左对齐</el-dropdown-item>\r\n                <el-dropdown-item command=\"center\" :style=\"setAlignActive('center')\">居中</el-dropdown-item>\r\n                <el-dropdown-item command=\"right\" :style=\"setAlignActive('right')\">右对齐</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"downloadImage\">文本生成图片</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { base64toBlob } from '@/utils'\r\nimport ImageRichText from '../ImageRichText'\r\n\r\nconst fontFamilyData = [\r\n  { value: '黑体' },\r\n  { value: '宋体' },\r\n  { value: '仿宋' },\r\n  { value: '楷体' },\r\n  { value: '隶书' },\r\n  { value: '微软雅黑' },\r\n  { value: '方正姚体' }\r\n]\r\nconst fontSizeData = [\r\n  { value: '12px' },\r\n  { value: '14px' },\r\n  { value: '16px' },\r\n  { value: '18px' },\r\n  { value: '24px' },\r\n  { value: '32px' },\r\n  { value: '48px' }\r\n]\r\n\r\nexport default {\r\n  name: 'TextSetting',\r\n  components: { ImageRichText },\r\n  props: {\r\n    activeEleText: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fontFamilyData,\r\n      fontSizeData\r\n    }\r\n  },\r\n  computed: {\r\n    // 字体是否加粗\r\n    fontWeight() {\r\n      if (+this.activeEleText.style.fontWeight === 400) {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    // 文字大小变化时行高一起变化\r\n    activeEleText: {\r\n      handler(val) {\r\n        this.activeEleText.style.lineHeight = val.style.fontSize\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    // 设置粗体\r\n    setFontWeight() {\r\n      if (+this.activeEleText.style.fontWeight === 400) {\r\n        this.activeEleText.style.fontWeight = 600\r\n      } else {\r\n        this.activeEleText.style.fontWeight = 400\r\n      }\r\n    },\r\n    // 设置对齐\r\n    handleCommand(command) {\r\n      this.activeEleText.style.textAlign = command\r\n    },\r\n    // 当前对齐方式\r\n    setAlignActive(type) {\r\n      if (this.activeEleText.style.textAlign === type) {\r\n        return {\r\n          backgroundColor: '#409eff',\r\n          color: '#fff'\r\n        }\r\n      } else {\r\n        return {\r\n          backgroundColor: '',\r\n          color: '#333'\r\n        }\r\n      }\r\n    },\r\n    // 文本生成图片\r\n    textBecomeImg(obj) {\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = obj.w\r\n      canvas.height = obj.h\r\n      const context = canvas.getContext('2d')\r\n      // 绘制字体距离canvas顶部初始的高度\r\n      const initTop = 4\r\n      const initLeft = 8\r\n      // 设置背景色\r\n      context.fillStyle = obj.style.backgroundColor || 'transparent'\r\n      context.fillRect(0, 0, canvas.width, canvas.height)\r\n      // 设置文本样式\r\n      context.fillStyle = obj.style.color\r\n      context.font = obj.style.fontWeight + ' ' + obj.style.fontSize + ' ' + obj.style.fontFamily\r\n      context.textBaseline = 'top'\r\n      // 设置文本对齐方式\r\n      context.textAlign = obj.style.textAlign\r\n\r\n      const textArr = obj.text.split('')\r\n      let tempStr = ''\r\n      const rowArr = []\r\n      const maxTextWidth = canvas.width - 2 * initLeft\r\n\r\n      for (let i = 0; i < textArr.length; i++) {\r\n        if (context.measureText(tempStr).width < maxTextWidth && context.measureText(tempStr + (textArr[i])).width <= maxTextWidth) {\r\n          tempStr += textArr[i]\r\n        } else {\r\n          rowArr.push(tempStr)\r\n          tempStr = textArr[i]\r\n        }\r\n      }\r\n      rowArr.push(tempStr)\r\n\r\n      let drawLeft\r\n      if (context.textAlign === 'left') {\r\n        drawLeft = initLeft\r\n      } else if (context.textAlign === 'center') {\r\n        drawLeft = maxTextWidth / 2\r\n      } else if (context.textAlign === 'right') {\r\n        drawLeft = maxTextWidth\r\n      }\r\n\r\n      for (let i = 0; i < rowArr.length; i++) {\r\n        context.fillText(rowArr[i], drawLeft, (parseInt(obj.style.fontSize) * i + initTop), maxTextWidth)\r\n      }\r\n\r\n      return canvas.toDataURL('image/png')\r\n    },\r\n    // 下载生成的图片\r\n    downloadImage() {\r\n      const imageBase64 = this.textBecomeImg(this.activeEleText)\r\n      const imageBlob = base64toBlob(imageBase64)\r\n      const link = document.createElement('a')\r\n      const event = document.createEvent('HTMLEvents')\r\n      // initEvent 不加后两个参数会在火狐下报错 事件类型，是否冒泡，是否阻止浏览器的默认行为\r\n      event.initEvent('click', true, true)\r\n      link.download = 'image.png'\r\n      link.href = URL.createObjectURL(imageBlob)\r\n      // 兼容火狐\r\n      link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../assets/less/text-setting\";\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}