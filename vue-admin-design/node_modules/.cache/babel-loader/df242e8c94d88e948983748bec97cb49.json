{"remainingRequest":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\src\\layout\\components\\TagsView\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\src\\layout\\components\\TagsView\\index.vue","mtime":1728976157726},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\babel.config.js","mtime":1728976157680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1728977243261},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\mrpSystem\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1728977244061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9wcm9qZWN0V29yay90aGlyZEdyYWRlL2Vjb25taWMvbXJwU3lzdGVtL3Z1ZS1hZG1pbi1kZXNpZ24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnZhciBfcGF0aCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicGF0aCIpKTsKdmFyIF92dWV4ID0gcmVxdWlyZSgidnVleCIpOwp2YXIgX1RhZ0l0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vVGFnSXRlbSIpKTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICdUYWdzVmlldycsCiAgY29tcG9uZW50czogewogICAgVGFnSXRlbTogX1RhZ0l0ZW0uZGVmYXVsdAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhZ3NDb250TGVmdDogMCwKICAgICAgY29udFBhZGRpbmc6IDQsCiAgICAgIHNlbGVjdGVkVGFnOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi4oMCwgX3Z1ZXgubWFwR2V0dGVycykoWyd2aXNpdGVkVmlld3MnXSksCiAgICByb3V0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKHZhbCkgewogICAgICB0aGlzLmFkZFRhZ3MoKTsKICAgICAgdGhpcy5nZXRUYWdFbGVtZW50KHZhbCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRUYWcgPSB2YWw7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0VGFncygpOwogICAgdGhpcy5hZGRUYWdzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi4oMCwgX3Z1ZXgubWFwTXV0YXRpb25zKShbJ2FkZFZpc2l0ZWRWaWV3JywgJ2RlbFZpc2l0ZWRWaWV3JywgJ2RlbEFsbFZpc2l0ZWRWaWV3JywgJ2RlbE90aGVyc1Zpc2l0ZWRWaWV3J10pLAogICAgaXNBY3RpdmUodGFnKSB7CiAgICAgIHJldHVybiB0YWcucGF0aCA9PT0gdGhpcy4kcm91dGUucGF0aDsKICAgIH0sCiAgICBmaWx0ZXJGaXhlZFRhZ3Mocm91dGVzLCBiYXNlUGF0aCA9ICcvJykgewogICAgICBsZXQgdGFncyA9IFtdOwogICAgICByb3V0ZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZiAoaXRlbS5tZXRhICYmIGl0ZW0ubWV0YS5maXhlZCkgewogICAgICAgICAgY29uc3QgdGFnUGF0aCA9IF9wYXRoLmRlZmF1bHQucmVzb2x2ZShiYXNlUGF0aCwgaXRlbS5wYXRoKTsKICAgICAgICAgIHRhZ3MucHVzaCh7CiAgICAgICAgICAgIGZ1bGxQYXRoOiB0YWdQYXRoLAogICAgICAgICAgICBwYXRoOiB0YWdQYXRoLAogICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgICAuLi5pdGVtLm1ldGEKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7CiAgICAgICAgICBjb25zdCB0ZW1wVGFncyA9IHRoaXMuZmlsdGVyRml4ZWRUYWdzKGl0ZW0uY2hpbGRyZW4sIGl0ZW0ucGF0aCk7CiAgICAgICAgICBpZiAodGVtcFRhZ3MubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgdGFncyA9IFsuLi50YWdzLCAuLi50ZW1wVGFnc107CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHRhZ3M7CiAgICB9LAogICAgaW5pdFRhZ3MoKSB7CiAgICAgIGNvbnN0IGZpeGVkVGFncyA9IHRoaXMuZmlsdGVyRml4ZWRUYWdzKHRoaXMucm91dGVzKTsKICAgICAgZm9yIChjb25zdCB0YWcgb2YgZml4ZWRUYWdzKSB7CiAgICAgICAgaWYgKHRhZy5uYW1lKSB7CiAgICAgICAgICB0aGlzLmFkZFZpc2l0ZWRWaWV3KHRhZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkVGFncygpIHsKICAgICAgY29uc3QgewogICAgICAgIG5hbWUKICAgICAgfSA9IHRoaXMuJHJvdXRlOwogICAgICBpZiAobmFtZSkgewogICAgICAgIHRoaXMuYWRkVmlzaXRlZFZpZXcodGhpcy4kcm91dGUpOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVTY3JvbGwoZSkgewogICAgICBjb25zdCB0eXBlID0gZS50eXBlOwogICAgICBsZXQgZGlzdGFuY2UgPSAwOwogICAgICAvLyBtb3VzZXdoZWVs6Z2e54Gr54uQ5rWP6KeI5Zmo6byg5qCH5rua5Yqo5LqL5Lu2OyBET01Nb3VzZVNjcm9sbOeBq+eLkOa1j+iniOWZqOm8oOagh+a7muWKqOS6i+S7tgogICAgICBpZiAodHlwZSA9PT0gJ21vdXNld2hlZWwnIHx8IHR5cGUgPT09ICdET01Nb3VzZVNjcm9sbCcpIHsKICAgICAgICAvLyBtb3VzZXdoZWVsIOS6i+S7tuS4reeahCBldmVudC53aGVlbERlbHRhIOWxnuaAp+WAvO+8muiLpea7mui9ruaYr+WQkeS4iua7muWKqO+8jOi/lOWbnuWAvOS4uuato++8jOWPjeS5i+S4uui0n++8m+S4lOi/lOWbnueahOWAvO+8jOWdh+S4uiAxMjAg55qE5YCN5pWw77yM5Y2z77ya5bmF5bqm5aSn5bCPID0g6L+U5Zue55qE5YC8IC8gMTIwCiAgICAgICAgLy8gRE9NTW91c2VTY3JvbGwg5LqL5Lu25Lit55qEIGV2ZW50LmRldGFpbCDlsZ7mgKflgLzvvJrov5Tlm57nmoTlgLzvvIzkuI4gZXZlbnQud2hlZWxEZWx0YSDmraPlpb3nm7jlj43vvIzljbPmu5rova7mmK/lkJHkuIrmu5rliqjvvIzov5Tlm57lgLzkuLrotJ/vvIzlj43kuYvkuLrmraPvvJvov5Tlm57nmoTlgLzvvIzlnYfkuLogMyDnmoTlgI3mlbDvvIzljbPvvJrluYXluqblpKflsI8gPSDov5Tlm57nmoTlgLwgLyAzCiAgICAgICAgZGlzdGFuY2UgPSBlLndoZWVsRGVsdGEgPyBlLndoZWVsRGVsdGEgOiAtKGUuZGV0YWlsIHx8IDApICogNDA7CiAgICAgIH0KICAgICAgdGhpcy5oYW5kbGVNb3ZlKGRpc3RhbmNlKTsKICAgIH0sCiAgICBoYW5kbGVNb3ZlKG9mZnNldCkgewogICAgICBjb25zdCB2aWV3V2lkdGggPSB0aGlzLiRyZWZzLnRhZ3NWaWV3cy5vZmZzZXRXaWR0aDsKICAgICAgY29uc3QgY29udFdpZHRoID0gdGhpcy4kcmVmcy50YWdzQ29udC5vZmZzZXRXaWR0aDsKICAgICAgaWYgKG9mZnNldCA+IDApIHsKICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IE1hdGgubWluKDAsIHRoaXMudGFnc0NvbnRMZWZ0ICsgb2Zmc2V0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodmlld1dpZHRoIDwgY29udFdpZHRoKSB7CiAgICAgICAgICBpZiAodGhpcy50YWdzQ29udExlZnQgPCAtKGNvbnRXaWR0aCAtIHZpZXdXaWR0aCkpIHsKICAgICAgICAgICAgLy8gdGhpcy50YWdzQ29udExlZnQgPSB0aGlzLnRhZ3NDb250TGVmdAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSBNYXRoLm1heCh0aGlzLnRhZ3NDb250TGVmdCArIG9mZnNldCwgdmlld1dpZHRoIC0gY29udFdpZHRoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldFRhZ0VsZW1lbnQocm91dGUpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGNvbnN0IHRhZ3NJdGVtQXJyID0gdGhpcy4kcmVmcy50YWdzSXRlbTsKICAgICAgICBjb25zdCBpbmRleCA9IHRhZ3NJdGVtQXJyLmZpbmRJbmRleChpdGVtID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLnRvLnBhdGggPT09IHJvdXRlLmZ1bGxQYXRoOwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHRhZyA9IHRhZ3NJdGVtQXJyW2luZGV4XS4kZWw7CiAgICAgICAgdGhpcy5tb3ZlVG9DdXJyZW50VGFnKHRhZyk7CiAgICAgIH0pOwogICAgfSwKICAgIG1vdmVUb0N1cnJlbnRUYWcodGFnKSB7CiAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IHRoaXMuJHJlZnMudGFnc1ZpZXdzLm9mZnNldFdpZHRoOwogICAgICBjb25zdCBjb250V2lkdGggPSB0aGlzLiRyZWZzLnRhZ3NDb250Lm9mZnNldFdpZHRoOwogICAgICBpZiAoY29udFdpZHRoIDwgdmlld1dpZHRoKSB7CiAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAwOwogICAgICB9IGVsc2UgaWYgKHRhZy5vZmZzZXRMZWZ0IDwgLXRoaXMudGFnc0NvbnRMZWZ0KSB7CiAgICAgICAgLy8g5qCH562+5Zyo5Y+v6KeG5Yy65Z+f5bem5L6nCiAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAtdGFnLm9mZnNldExlZnQgKyB0aGlzLmNvbnRQYWRkaW5nOwogICAgICB9IGVsc2UgaWYgKHRhZy5vZmZzZXRMZWZ0ID4gLXRoaXMudGFnc0NvbnRMZWZ0ICYmIHRhZy5vZmZzZXRMZWZ0ICsgdGFnLm9mZnNldFdpZHRoIDwgLXRoaXMudGFnc0NvbnRMZWZ0ICsgdmlld1dpZHRoKSB7CiAgICAgICAgLy8g5qCH562+5Zyo5Y+v6KeG5Yy65Z+fCiAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSBNYXRoLm1pbigwLCB2aWV3V2lkdGggLSB0YWcub2Zmc2V0V2lkdGggLSB0YWcub2Zmc2V0TGVmdCAtIHRoaXMuY29udFBhZGRpbmcpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfn+WPs+S+pwogICAgICAgIHRoaXMudGFnc0NvbnRMZWZ0ID0gLSh0YWcub2Zmc2V0TGVmdCAtICh2aWV3V2lkdGggLSB0aGlzLmNvbnRQYWRkaW5nIC0gdGFnLm9mZnNldFdpZHRoKSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWxlY3RlZENsb3NlKHZpZXcpIHsKICAgICAgdGhpcy5kZWxWaXNpdGVkVmlldyh2aWV3KTsKICAgICAgaWYgKHRoaXMuaXNBY3RpdmUodmlldykpIHsKICAgICAgICB0aGlzLnNob3dMYXN0VmlldygpOwogICAgICB9CiAgICB9LAogICAgc2hvd0xhc3RWaWV3KCkgewogICAgICBjb25zdCBsYXN0VmlldyA9IHRoaXMudmlzaXRlZFZpZXdzLnNsaWNlKC0xKVswXTsKICAgICAgaWYgKGxhc3RWaWV3KSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gobGFzdFZpZXcuZnVsbFBhdGgpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2xvc2UodHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gJ2FsbCcpIHsKICAgICAgICB0aGlzLmRlbEFsbFZpc2l0ZWRWaWV3KCk7CiAgICAgICAgdGhpcy5zaG93TGFzdFZpZXcoKTsKICAgICAgfQogICAgICBpZiAodHlwZSA9PT0gJ290aGVyJykgewogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGFnKSB7CiAgICAgICAgICB0aGlzLmRlbE90aGVyc1Zpc2l0ZWRWaWV3KHRoaXMuc2VsZWN0ZWRUYWcpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IDA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_path","_interopRequireDefault","require","_vuex","_TagItem","_default","exports","default","name","components","TagItem","data","tagsContLeft","contPadding","selectedTag","computed","mapGetters","routes","$router","options","watch","$route","val","addTags","getTagElement","mounted","initTags","methods","mapMutations","isActive","tag","path","filterFixedTags","basePath","tags","forEach","item","meta","fixed","tagPath","resolve","push","fullPath","children","tempTags","length","fixedTags","addVisitedView","handleScroll","e","type","distance","wheelDelta","detail","handleMove","offset","viewWidth","$refs","tagsViews","offsetWidth","contWidth","tagsCont","Math","min","max","route","$nextTick","tagsItemArr","tagsItem","index","findIndex","to","$el","moveToCurrentTag","offsetLeft","handleSelectedClose","view","delVisitedView","showLastView","lastView","visitedViews","slice","handleClose","delAllVisitedView","delOthersVisitedView"],"sources":["src/layout/components/TagsView/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"tags-nav-wrapper clear-fix\">\r\n    <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(240)\">\r\n      <i class=\"icon el-icon-arrow-left\" />\r\n    </el-button>\r\n    <div ref=\"tagsViews\" class=\"tags-views\" @DOMMouseScroll=\"handleScroll\" @mousewheel=\"handleScroll\">\r\n      <div ref=\"tagsCont\" class=\"tags-cont\" :style=\"{left: tagsContLeft + 'px'}\">\r\n        <transition-group>\r\n          <router-link v-for=\"item in visitedViews\" ref=\"tagsItem\" :key=\"item.name\" :to=\"{ path: item.path }\">\r\n            <TagItem :class=\"{active: isActive(item)}\" :fixed=\"item.meta.fixed\" @on-close=\"handleSelectedClose(item)\">{{ item.title }}</TagItem>\r\n          </router-link>\r\n        </transition-group>\r\n      </div>\r\n    </div>\r\n    <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(-240)\">\r\n      <i class=\"icon el-icon-arrow-right\" />\r\n    </el-button>\r\n    <div class=\"btn-con btn-close\">\r\n      <el-dropdown @command=\"handleClose\">\r\n        <span class=\"el-dropdown-link\">\r\n          <i class=\"icon el-icon-circle-close\" />\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n          <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport path from 'path'\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport TagItem from './TagItem'\r\n\r\nexport default {\r\n  name: 'TagsView',\r\n  components: { TagItem },\r\n  data() {\r\n    return {\r\n      tagsContLeft: 0,\r\n      contPadding: 4,\r\n      selectedTag: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['visitedViews']),\r\n    routes() {\r\n      return this.$router.options.routes\r\n    }\r\n  },\r\n  watch: {\r\n    $route(val) {\r\n      this.addTags()\r\n      this.getTagElement(val)\r\n      this.selectedTag = val\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initTags()\r\n    this.addTags()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['addVisitedView', 'delVisitedView', 'delAllVisitedView', 'delOthersVisitedView']),\r\n    isActive(tag) {\r\n      return tag.path === this.$route.path\r\n    },\r\n    filterFixedTags(routes, basePath = '/') {\r\n      let tags = []\r\n      routes.forEach(item => {\r\n        if (item.meta && item.meta.fixed) {\r\n          const tagPath = path.resolve(basePath, item.path)\r\n          tags.push({\r\n            fullPath: tagPath,\r\n            path: tagPath,\r\n            name: item.name,\r\n            meta: { ...item.meta }\r\n          })\r\n        }\r\n        if (item.children) {\r\n          const tempTags = this.filterFixedTags(item.children, item.path)\r\n          if (tempTags.length >= 1) {\r\n            tags = [...tags, ...tempTags]\r\n          }\r\n        }\r\n      })\r\n      return tags\r\n    },\r\n    initTags() {\r\n      const fixedTags = this.filterFixedTags(this.routes)\r\n      for (const tag of fixedTags) {\r\n        if (tag.name) {\r\n          this.addVisitedView(tag)\r\n        }\r\n      }\r\n    },\r\n    addTags() {\r\n      const { name } = this.$route\r\n      if (name) {\r\n        this.addVisitedView(this.$route)\r\n      }\r\n      return false\r\n    },\r\n    handleScroll(e) {\r\n      const type = e.type\r\n      let distance = 0\r\n      // mousewheel非火狐浏览器鼠标滚动事件; DOMMouseScroll火狐浏览器鼠标滚动事件\r\n      if (type === 'mousewheel' || type === 'DOMMouseScroll') {\r\n        // mousewheel 事件中的 event.wheelDelta 属性值：若滚轮是向上滚动，返回值为正，反之为负；且返回的值，均为 120 的倍数，即：幅度大小 = 返回的值 / 120\r\n        // DOMMouseScroll 事件中的 event.detail 属性值：返回的值，与 event.wheelDelta 正好相反，即滚轮是向上滚动，返回值为负，反之为正；返回的值，均为 3 的倍数，即：幅度大小 = 返回的值 / 3\r\n        distance = (e.wheelDelta) ? e.wheelDelta : -(e.detail || 0) * 40\r\n      }\r\n      this.handleMove(distance)\r\n    },\r\n    handleMove(offset) {\r\n      const viewWidth = this.$refs.tagsViews.offsetWidth\r\n      const contWidth = this.$refs.tagsCont.offsetWidth\r\n      if (offset > 0) {\r\n        this.tagsContLeft = Math.min(0, this.tagsContLeft + offset)\r\n      } else {\r\n        if (viewWidth < contWidth) {\r\n          if (this.tagsContLeft < -(contWidth - viewWidth)) {\r\n            // this.tagsContLeft = this.tagsContLeft\r\n          } else {\r\n            this.tagsContLeft = Math.max(this.tagsContLeft + offset, viewWidth - contWidth)\r\n          }\r\n        } else {\r\n          this.tagsContLeft = 0\r\n        }\r\n      }\r\n    },\r\n    getTagElement(route) {\r\n      this.$nextTick(() => {\r\n        const tagsItemArr = this.$refs.tagsItem\r\n        const index = tagsItemArr.findIndex(item => {\r\n          return item.to.path === route.fullPath\r\n        })\r\n        const tag = tagsItemArr[index].$el\r\n        this.moveToCurrentTag(tag)\r\n      })\r\n    },\r\n    moveToCurrentTag(tag) {\r\n      const viewWidth = this.$refs.tagsViews.offsetWidth\r\n      const contWidth = this.$refs.tagsCont.offsetWidth\r\n      if (contWidth < viewWidth) {\r\n        this.tagsContLeft = 0\r\n      } else if (tag.offsetLeft < -this.tagsContLeft) {\r\n        // 标签在可视区域左侧\r\n        this.tagsContLeft = -tag.offsetLeft + this.contPadding\r\n      } else if (tag.offsetLeft > -this.tagsContLeft && tag.offsetLeft + tag.offsetWidth < -this.tagsContLeft + viewWidth) {\r\n        // 标签在可视区域\r\n        this.tagsContLeft = Math.min(0, viewWidth - tag.offsetWidth - tag.offsetLeft - this.contPadding)\r\n      } else {\r\n        // 标签在可视区域右侧\r\n        this.tagsContLeft = -(tag.offsetLeft - (viewWidth - this.contPadding - tag.offsetWidth))\r\n      }\r\n    },\r\n    handleSelectedClose(view) {\r\n      this.delVisitedView(view)\r\n      if (this.isActive(view)) {\r\n        this.showLastView()\r\n      }\r\n    },\r\n    showLastView() {\r\n      const lastView = this.visitedViews.slice(-1)[0]\r\n      if (lastView) {\r\n        this.$router.push(lastView.fullPath)\r\n      }\r\n    },\r\n    handleClose(type) {\r\n      if (type === 'all') {\r\n        this.delAllVisitedView()\r\n        this.showLastView()\r\n      }\r\n      if (type === 'other') {\r\n        if (this.selectedTag) {\r\n          this.delOthersVisitedView(this.selectedTag)\r\n        }\r\n      }\r\n      this.tagsContLeft = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.tags-nav-wrapper {\r\n  width: 100%;\r\n  height: 40px;\r\n  .icon {\r\n    font-size: 18px;\r\n  }\r\n  .btn-con {\r\n    float: left;\r\n    width: 28px;\r\n    height: 40px;\r\n    padding: 8px 7px 8px 3px;\r\n    border-top: solid 1px #f0f0f0;\r\n    border-bottom: solid 1px #f0f0f0;\r\n    box-sizing: border-box;\r\n  }\r\n  .btn-close {\r\n    width: 40px;\r\n    padding-top: 10px;\r\n    padding-left: 11px;\r\n    border-left: solid 1px #f0f0f0;\r\n    cursor: pointer;\r\n  }\r\n  .tags-views {\r\n    position: relative;\r\n    float: left;\r\n    width: calc(100% - 96px);\r\n    height: 40px;\r\n    background: #f0f0f0;\r\n    box-shadow: inset 0 0 3px 2px #6464641a;\r\n    overflow: hidden;\r\n    .tags-cont {\r\n      position: absolute;\r\n      padding: 0 4px;\r\n      overflow: visible;\r\n      white-space: nowrap;\r\n      transition: left .5s ease;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}