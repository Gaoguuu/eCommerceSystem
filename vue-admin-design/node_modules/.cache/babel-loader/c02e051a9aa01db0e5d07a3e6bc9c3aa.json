{"remainingRequest":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js!D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\src\\components\\TextSetting\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\src\\components\\TextSetting\\index.vue","mtime":1728976157717},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\babel.config.js","mtime":1728976157680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1728977243261},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728977241680},{"path":"D:\\projectWork\\thirdGrade\\econmic\\vue-admin-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1728977244061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9wcm9qZWN0V29yay90aGlyZEdyYWRlL2Vjb25taWMvdnVlLWFkbWluLWRlc2lnbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5oYXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIik7CnZhciBfdXRpbHMgPSByZXF1aXJlKCJAL3V0aWxzIik7CnZhciBfSW1hZ2VSaWNoVGV4dCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vSW1hZ2VSaWNoVGV4dCIpKTsKY29uc3QgZm9udEZhbWlseURhdGEgPSBbewogIHZhbHVlOiAn6buR5L2TJwp9LCB7CiAgdmFsdWU6ICflrovkvZMnCn0sIHsKICB2YWx1ZTogJ+S7v+WuiycKfSwgewogIHZhbHVlOiAn5qW35L2TJwp9LCB7CiAgdmFsdWU6ICfpmrbkuaYnCn0sIHsKICB2YWx1ZTogJ+W+rui9r+mbhem7kScKfSwgewogIHZhbHVlOiAn5pa55q2j5aea5L2TJwp9XTsKY29uc3QgZm9udFNpemVEYXRhID0gW3sKICB2YWx1ZTogJzEycHgnCn0sIHsKICB2YWx1ZTogJzE0cHgnCn0sIHsKICB2YWx1ZTogJzE2cHgnCn0sIHsKICB2YWx1ZTogJzE4cHgnCn0sIHsKICB2YWx1ZTogJzI0cHgnCn0sIHsKICB2YWx1ZTogJzMycHgnCn0sIHsKICB2YWx1ZTogJzQ4cHgnCn1dOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogJ1RleHRTZXR0aW5nJywKICBjb21wb25lbnRzOiB7CiAgICBJbWFnZVJpY2hUZXh0OiBfSW1hZ2VSaWNoVGV4dC5kZWZhdWx0CiAgfSwKICBwcm9wczogewogICAgYWN0aXZlRWxlVGV4dDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9udEZhbWlseURhdGEsCiAgICAgIGZvbnRTaXplRGF0YQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDlrZfkvZPmmK/lkKbliqDnspcKICAgIGZvbnRXZWlnaHQoKSB7CiAgICAgIGlmICgrdGhpcy5hY3RpdmVFbGVUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPT09IDQwMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOaWh+Wtl+Wkp+Wwj+WPmOWMluaXtuihjOmrmOS4gOi1t+WPmOWMlgogICAgYWN0aXZlRWxlVGV4dDogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS5saW5lSGVpZ2h0ID0gdmFsLnN0eWxlLmZvbnRTaXplOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDorr7nva7nspfkvZMKICAgIHNldEZvbnRXZWlnaHQoKSB7CiAgICAgIGlmICgrdGhpcy5hY3RpdmVFbGVUZXh0LnN0eWxlLmZvbnRXZWlnaHQgPT09IDQwMCkgewogICAgICAgIHRoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gNjAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlRWxlVGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gNDAwOwogICAgICB9CiAgICB9LAogICAgLy8g6K6+572u5a+56b2QCiAgICBoYW5kbGVDb21tYW5kKGNvbW1hbmQpIHsKICAgICAgdGhpcy5hY3RpdmVFbGVUZXh0LnN0eWxlLnRleHRBbGlnbiA9IGNvbW1hbmQ7CiAgICB9LAogICAgLy8g5b2T5YmN5a+56b2Q5pa55byPCiAgICBzZXRBbGlnbkFjdGl2ZSh0eXBlKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZUVsZVRleHQuc3R5bGUudGV4dEFsaWduID09PSB0eXBlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0MDllZmYnLAogICAgICAgICAgY29sb3I6ICcjZmZmJwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJycsCiAgICAgICAgICBjb2xvcjogJyMzMzMnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIC8vIOaWh+acrOeUn+aIkOWbvueJhwogICAgdGV4dEJlY29tZUltZyhvYmopIHsKICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IG9iai53OwogICAgICBjYW52YXMuaGVpZ2h0ID0gb2JqLmg7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgLy8g57uY5Yi25a2X5L2T6Led56a7Y2FudmFz6aG26YOo5Yid5aeL55qE6auY5bqmCiAgICAgIGNvbnN0IGluaXRUb3AgPSA0OwogICAgICBjb25zdCBpbml0TGVmdCA9IDg7CiAgICAgIC8vIOiuvue9ruiDjOaZr+iJsgogICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IG9iai5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgfHwgJ3RyYW5zcGFyZW50JzsKICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAvLyDorr7nva7mlofmnKzmoLflvI8KICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBvYmouc3R5bGUuY29sb3I7CiAgICAgIGNvbnRleHQuZm9udCA9IG9iai5zdHlsZS5mb250V2VpZ2h0ICsgJyAnICsgb2JqLnN0eWxlLmZvbnRTaXplICsgJyAnICsgb2JqLnN0eWxlLmZvbnRGYW1pbHk7CiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7CiAgICAgIC8vIOiuvue9ruaWh+acrOWvuem9kOaWueW8jwogICAgICBjb250ZXh0LnRleHRBbGlnbiA9IG9iai5zdHlsZS50ZXh0QWxpZ247CiAgICAgIGNvbnN0IHRleHRBcnIgPSBvYmoudGV4dC5zcGxpdCgnJyk7CiAgICAgIGxldCB0ZW1wU3RyID0gJyc7CiAgICAgIGNvbnN0IHJvd0FyciA9IFtdOwogICAgICBjb25zdCBtYXhUZXh0V2lkdGggPSBjYW52YXMud2lkdGggLSAyICogaW5pdExlZnQ7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dEFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChjb250ZXh0Lm1lYXN1cmVUZXh0KHRlbXBTdHIpLndpZHRoIDwgbWF4VGV4dFdpZHRoICYmIGNvbnRleHQubWVhc3VyZVRleHQodGVtcFN0ciArIHRleHRBcnJbaV0pLndpZHRoIDw9IG1heFRleHRXaWR0aCkgewogICAgICAgICAgdGVtcFN0ciArPSB0ZXh0QXJyW2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3dBcnIucHVzaCh0ZW1wU3RyKTsKICAgICAgICAgIHRlbXBTdHIgPSB0ZXh0QXJyW2ldOwogICAgICAgIH0KICAgICAgfQogICAgICByb3dBcnIucHVzaCh0ZW1wU3RyKTsKICAgICAgbGV0IGRyYXdMZWZ0OwogICAgICBpZiAoY29udGV4dC50ZXh0QWxpZ24gPT09ICdsZWZ0JykgewogICAgICAgIGRyYXdMZWZ0ID0gaW5pdExlZnQ7CiAgICAgIH0gZWxzZSBpZiAoY29udGV4dC50ZXh0QWxpZ24gPT09ICdjZW50ZXInKSB7CiAgICAgICAgZHJhd0xlZnQgPSBtYXhUZXh0V2lkdGggLyAyOwogICAgICB9IGVsc2UgaWYgKGNvbnRleHQudGV4dEFsaWduID09PSAncmlnaHQnKSB7CiAgICAgICAgZHJhd0xlZnQgPSBtYXhUZXh0V2lkdGg7CiAgICAgIH0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dBcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHJvd0FycltpXSwgZHJhd0xlZnQsIHBhcnNlSW50KG9iai5zdHlsZS5mb250U2l6ZSkgKiBpICsgaW5pdFRvcCwgbWF4VGV4dFdpZHRoKTsKICAgICAgfQogICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgICB9LAogICAgLy8g5LiL6L2955Sf5oiQ55qE5Zu+54mHCiAgICBkb3dubG9hZEltYWdlKCkgewogICAgICBjb25zdCBpbWFnZUJhc2U2NCA9IHRoaXMudGV4dEJlY29tZUltZyh0aGlzLmFjdGl2ZUVsZVRleHQpOwogICAgICBjb25zdCBpbWFnZUJsb2IgPSAoMCwgX3V0aWxzLmJhc2U2NHRvQmxvYikoaW1hZ2VCYXNlNjQpOwogICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7CiAgICAgIC8vIGluaXRFdmVudCDkuI3liqDlkI7kuKTkuKrlj4LmlbDkvJrlnKjngavni5DkuIvmiqXplJkg5LqL5Lu257G75Z6L77yM5piv5ZCm5YaS5rOh77yM5piv5ZCm6Zi75q2i5rWP6KeI5Zmo55qE6buY6K6k6KGM5Li6CiAgICAgIGV2ZW50LmluaXRFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlKTsKICAgICAgbGluay5kb3dubG9hZCA9ICdpbWFnZS5wbmcnOwogICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlQmxvYik7CiAgICAgIC8vIOWFvOWuueeBq+eLkAogICAgICBsaW5rLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywgewogICAgICAgIGJ1YmJsZXM6IHRydWUsCiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSwKICAgICAgICB2aWV3OiB3aW5kb3cKICAgICAgfSkpOwogICAgfQogIH0KfTs="},{"version":3,"names":["_utils","require","_ImageRichText","_interopRequireDefault","fontFamilyData","value","fontSizeData","_default","exports","default","name","components","ImageRichText","props","activeEleText","type","Object","data","computed","fontWeight","style","watch","handler","val","lineHeight","fontSize","deep","methods","setFontWeight","handleCommand","command","textAlign","setAlignActive","backgroundColor","color","textBecomeImg","obj","canvas","document","createElement","width","w","height","h","context","getContext","initTop","initLeft","fillStyle","fillRect","font","fontFamily","textBaseline","textArr","text","split","tempStr","rowArr","maxTextWidth","i","length","measureText","push","drawLeft","fillText","parseInt","toDataURL","downloadImage","imageBase64","imageBlob","base64toBlob","link","event","createEvent","initEvent","download","href","URL","createObjectURL","dispatchEvent","MouseEvent","bubbles","cancelable","view","window"],"sources":["src/components/TextSetting/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"text-setting-wrapper\">\r\n    <el-form label-width=\"70px\">\r\n      <!--文本-->\r\n      <el-form-item label=\"文本\">\r\n        <ImageRichText v-model=\"activeEleText.text\" class=\"text-editable\" :active-ele-text=\"activeEleText\" />\r\n      </el-form-item>\r\n      <!--字体-->\r\n      <el-form-item label=\"字体\">\r\n        <el-select v-model=\"activeEleText.style.fontFamily\" size=\"small\">\r\n          <el-option\r\n            v-for=\"item in fontFamilyData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n            :style=\"{'fontFamily': item.value}\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!--字号-->\r\n      <el-form-item label=\"字号\">\r\n        <el-select\r\n          v-model=\"activeEleText.style.fontSize\"\r\n          size=\"small\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in fontSizeData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!--颜色-->\r\n      <el-form-item label=\"颜色\">\r\n        <!-- 字体颜色 -->\r\n        <div class=\"color-box\">\r\n          <i class=\"vue-dsn-icon-wenzise color-icon\" :style=\"{'color': activeEleText.style.color}\" />\r\n          <el-color-picker v-model=\"activeEleText.style.color\" />\r\n        </div>\r\n        <!-- 背景颜色 -->\r\n        <div class=\"color-box\">\r\n          <i class=\"vue-dsn-icon-beijingse color-icon icon-bg\" :style=\"{'color': activeEleText.style.backgroundColor}\" />\r\n          <el-color-picker v-model=\"activeEleText.style.backgroundColor\" />\r\n        </div>\r\n        <div class=\"style-box\">\r\n          <!-- 加粗 -->\r\n          <span :class=\"['style-item', fontWeight ? 'active' : '']\" @click=\"setFontWeight\">\r\n            <i class=\"vue-dsn-icon-jiacu style-icon\" />\r\n          </span>\r\n          <!-- 对齐 -->\r\n          <div class=\"style-item\">\r\n            <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n              <i class=\"vue-dsn-icon-duiqi style-icon\" />\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"left\" :style=\"setAlignActive('left')\">左对齐</el-dropdown-item>\r\n                <el-dropdown-item command=\"center\" :style=\"setAlignActive('center')\">居中</el-dropdown-item>\r\n                <el-dropdown-item command=\"right\" :style=\"setAlignActive('right')\">右对齐</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"downloadImage\">文本生成图片</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { base64toBlob } from '@/utils'\r\nimport ImageRichText from '../ImageRichText'\r\n\r\nconst fontFamilyData = [\r\n  { value: '黑体' },\r\n  { value: '宋体' },\r\n  { value: '仿宋' },\r\n  { value: '楷体' },\r\n  { value: '隶书' },\r\n  { value: '微软雅黑' },\r\n  { value: '方正姚体' }\r\n]\r\nconst fontSizeData = [\r\n  { value: '12px' },\r\n  { value: '14px' },\r\n  { value: '16px' },\r\n  { value: '18px' },\r\n  { value: '24px' },\r\n  { value: '32px' },\r\n  { value: '48px' }\r\n]\r\n\r\nexport default {\r\n  name: 'TextSetting',\r\n  components: { ImageRichText },\r\n  props: {\r\n    activeEleText: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fontFamilyData,\r\n      fontSizeData\r\n    }\r\n  },\r\n  computed: {\r\n    // 字体是否加粗\r\n    fontWeight() {\r\n      if (+this.activeEleText.style.fontWeight === 400) {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    // 文字大小变化时行高一起变化\r\n    activeEleText: {\r\n      handler(val) {\r\n        this.activeEleText.style.lineHeight = val.style.fontSize\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    // 设置粗体\r\n    setFontWeight() {\r\n      if (+this.activeEleText.style.fontWeight === 400) {\r\n        this.activeEleText.style.fontWeight = 600\r\n      } else {\r\n        this.activeEleText.style.fontWeight = 400\r\n      }\r\n    },\r\n    // 设置对齐\r\n    handleCommand(command) {\r\n      this.activeEleText.style.textAlign = command\r\n    },\r\n    // 当前对齐方式\r\n    setAlignActive(type) {\r\n      if (this.activeEleText.style.textAlign === type) {\r\n        return {\r\n          backgroundColor: '#409eff',\r\n          color: '#fff'\r\n        }\r\n      } else {\r\n        return {\r\n          backgroundColor: '',\r\n          color: '#333'\r\n        }\r\n      }\r\n    },\r\n    // 文本生成图片\r\n    textBecomeImg(obj) {\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = obj.w\r\n      canvas.height = obj.h\r\n      const context = canvas.getContext('2d')\r\n      // 绘制字体距离canvas顶部初始的高度\r\n      const initTop = 4\r\n      const initLeft = 8\r\n      // 设置背景色\r\n      context.fillStyle = obj.style.backgroundColor || 'transparent'\r\n      context.fillRect(0, 0, canvas.width, canvas.height)\r\n      // 设置文本样式\r\n      context.fillStyle = obj.style.color\r\n      context.font = obj.style.fontWeight + ' ' + obj.style.fontSize + ' ' + obj.style.fontFamily\r\n      context.textBaseline = 'top'\r\n      // 设置文本对齐方式\r\n      context.textAlign = obj.style.textAlign\r\n\r\n      const textArr = obj.text.split('')\r\n      let tempStr = ''\r\n      const rowArr = []\r\n      const maxTextWidth = canvas.width - 2 * initLeft\r\n\r\n      for (let i = 0; i < textArr.length; i++) {\r\n        if (context.measureText(tempStr).width < maxTextWidth && context.measureText(tempStr + (textArr[i])).width <= maxTextWidth) {\r\n          tempStr += textArr[i]\r\n        } else {\r\n          rowArr.push(tempStr)\r\n          tempStr = textArr[i]\r\n        }\r\n      }\r\n      rowArr.push(tempStr)\r\n\r\n      let drawLeft\r\n      if (context.textAlign === 'left') {\r\n        drawLeft = initLeft\r\n      } else if (context.textAlign === 'center') {\r\n        drawLeft = maxTextWidth / 2\r\n      } else if (context.textAlign === 'right') {\r\n        drawLeft = maxTextWidth\r\n      }\r\n\r\n      for (let i = 0; i < rowArr.length; i++) {\r\n        context.fillText(rowArr[i], drawLeft, (parseInt(obj.style.fontSize) * i + initTop), maxTextWidth)\r\n      }\r\n\r\n      return canvas.toDataURL('image/png')\r\n    },\r\n    // 下载生成的图片\r\n    downloadImage() {\r\n      const imageBase64 = this.textBecomeImg(this.activeEleText)\r\n      const imageBlob = base64toBlob(imageBase64)\r\n      const link = document.createElement('a')\r\n      const event = document.createEvent('HTMLEvents')\r\n      // initEvent 不加后两个参数会在火狐下报错 事件类型，是否冒泡，是否阻止浏览器的默认行为\r\n      event.initEvent('click', true, true)\r\n      link.download = 'image.png'\r\n      link.href = URL.createObjectURL(imageBlob)\r\n      // 兼容火狐\r\n      link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../assets/less/text-setting\";\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}